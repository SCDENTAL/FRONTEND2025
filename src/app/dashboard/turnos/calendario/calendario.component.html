
<p style="color: red;">Componente calendario cargado</p>

<div class="semana-nav">
  <button (click)="semanaAnterior()">← Semana anterior</button>
  <span class="titulo-semana">Semana del {{ inicioSemana.format('DD/MM') }}</span>
  <button (click)="semanaSiguiente()">Semana siguiente →</button>
</div>

<div *ngIf="!cargando; else cargandoTpl" class="contenedor-calendario">
    <table>
        <thead>
            <tr>
                <th class="headers horarios">Horarios</th>
                <th *ngFor="let dia of diasSemana" class="headers">{{ dia }}</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let hora of horarios">
                <td class="horarios">{{ hora }}</td>
                <td *ngFor="let dia of diasSemana">
                    <div [ngClass]="estiloTurno(obtenerTurno(dia, hora))"
                        (click)="manejarClick(obtenerTurno(dia, hora), dia, hora)">
                        {{ obtenerTurno(dia, hora)?.nombrePaciente || 'Disponible' }}
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<!-- Opcional: spinner de carga -->
<ng-template #cargandoTpl>
  <div class="spinner-container">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>